#!/bin/bash

echo "ğŸš€ African-004 Data Upload to Render"
echo "======================================"
echo ""

echo "ğŸ“‹ Instructions for uploading data to Render:"
echo ""
echo "1ï¸âƒ£ First, access your Render dashboard:"
echo "   https://dashboard.render.com/web/srv-dpg-d25o0q3uibrs73aso9r0-a"
echo ""
echo "2ï¸âƒ£ Open the shell for your backend service:"
echo "   - Click on your backend service"
echo "   - Go to the 'Shell' tab"
echo "   - Or use the web shell at:"
echo "   https://dashboard.render.com/web/srv-dpg-d25o0q3uibrs73aso9r0-a/shell"
echo ""
echo "3ï¸âƒ£ In the Render shell, run these commands:"
echo ""
echo "   # Navigate to the correct directory"
echo "   cd backend/backend"
echo ""
echo "   # Create the admin user"
echo "   python manage.py shell"
echo ""
echo "   # In the Django shell, run:"
echo "   from django.contrib.auth import get_user_model"
echo "   User = get_user_model()"
echo "   user = User.objects.create_user(username='aman', email='a.kasa@alustudent.com', password='aman@123')"
echo "   user.role = 'ADMIN'"
echo "   user.is_staff = True"
echo "   user.is_superuser = True"
echo "   user.save()"
echo "   exit()"
echo ""
echo "4ï¸âƒ£ Upload your local_data.json file:"
echo "   - In the Render shell, create the file:"
echo "   nano local_data.json"
echo "   # Copy and paste the content from your local local_data.json"
echo ""
echo "5ï¸âƒ£ Load the data:"
echo "   python manage.py loaddata local_data.json"
echo ""
echo "6ï¸âƒ£ Reset the admin password:"
echo "   python manage.py shell"
echo "   from django.contrib.auth import get_user_model"
echo "   User = get_user_model()"
echo "   user = User.objects.get(username='aman')"
echo "   user.set_password('aman@123')"
echo "   user.save()"
echo "   exit()"
echo ""
echo "ğŸ¯ Alternative: Use the Django Admin Panel"
echo "   - Go to: https://african-004-backend.onrender.com/admin/"
echo "   - Login with: admin / admin123 (if available)"
echo "   - Manually recreate your data through the admin interface"
echo ""
echo "ğŸ”— Your application URLs:"
echo "   ğŸŒ Frontend: https://african-004-frontend.onrender.com"
echo "   ğŸ”§ Backend: https://african-004-backend.onrender.com"
echo "   ğŸ‘¨â€ğŸ’¼ Admin: https://african-004-backend.onrender.com/admin/"
echo ""
echo "ğŸ“Š Expected data after upload:"
echo "   ğŸ‘¥ Users: 3 (aman, manager1, staff1)"
echo "   ğŸ“¦ Inventory Items: 4 (Industrial Drill, Safety Gloves, etc.)"
echo "   ğŸ­ Suppliers: 3 (ABC Industrial Supplies, etc.)"
echo "   ğŸ“‹ Orders: 3 (various purchase orders)"
echo ""
echo "âœ… Once completed, you can log in with:"
echo "   ğŸ‘¤ aman / aman@123 (Admin)"
echo "   ğŸ‘¤ manager1 / Testpass123 (Manager)"
echo "   ğŸ‘¤ staff1 / Testpass123 (Staff)" 